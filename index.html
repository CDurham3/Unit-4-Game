<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Crystal Game</title>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
</head>
<body>
    <!--Creates Bootstrap Grid-->
    <div class="container">
    <h1 id="game-title">"Crystal Game"</h1>
    <h2 id="game-rules">click stuff and it happens</h2>
    <h3 id="target-total">Target:</h3>
    <h3 id="player-total">Player Total: </h3>

    </div>
    <!--Creates div for crystal buttons-->
    <div class="crystals-area">
        <button id="amethyst" class="amethyst"><img src="assets/images/amethyst.jpg" style= "width: auto; height: auto; max-width: 100px; max-height: 100px"></button>
        <button id="blue-topaz" class="blue-topaz"><img src="assets/images/blue-topaz.jpg" style= "width: auto; height: auto; max-width: 100px; max-height: 100px"></button>
        <button id="peridot" class="peridot"><img src="assets/images/peridot.jpg" style= "width: auto; height: auto; max-width: 100px; max-height: 100px"></button>
        <button id="ruby" class="ruby"><img src="assets/images/ruby.png" style= "width: auto; height: auto; max-width: 100px; max-height: 100px"></button>

    </div>

        <div class="container">
            <h3 id="win">Wins:</h3>
            <h3 id="loss">Losses:</h3>
        </div>
    <!--Javascript-->
    <script type="text/javascript">
    
    //initialize variables for the game
    var targetTtl = (Math.floor(Math.random() * (120-19+1)) +19);
    var playerTtl = 0;
    var amethystVal = (Math.floor(Math.random() * 12) +1);
    var blueTopazVal = (Math.floor(Math.random() * 12) +1);
    var peridotVal = (Math.floor(Math.random() * 12) +1);
    var rubyVal = (Math.floor(Math.random() * 12) +1);
    var wins = 0;
    var losses = 0;
    //console.log("Amethyst total: " + amethystVal);
    
    
    //Create variables to dipslay text
    $("#target-total").text("Target: " + targetTtl);

    function winLoseCheck() {
        if (playerTtl === targetTtl) {
            wins++;
            reset();
            alert("you win! the game has been reset!");
            $("#target-total").text("Target: " + targetTtl);
            $("#player-total").text("Player Total: " + playerTtl);
            $("#win").text("Wins: " + wins);
        } else if(playerTtl > targetTtl) {
            losses++;
            reset();
            alert("you lose! the game has been reset!");
            $("#target-total").text("Target: " + targetTtl);
            $("#player-total").text("Player Total: " + playerTtl);
            $("#loss").text("Losses: " + losses);            
        } else {
            return;
        }
    } 

    function reset() {
        playerTtl = 0;
        targetTtl = 0;
        targetTtl = (Math.floor(Math.random() * (120-19+1)) +19);
        amethystVal = (Math.floor(Math.random() * 12) +1);
        blueTopazVal = (Math.floor(Math.random() * 12) +1);
        peridotVal = (Math.floor(Math.random() * 12) +1);       
        rubyVal = (Math.floor(Math.random() * 12) +1);
    }   



    //Check for button click
    $("button").on("click", function(){
            if ($(this).hasClass("amethyst")) {
                playerTtl = playerTtl + amethystVal;
                $("#player-total").text("Player Total: " + playerTtl);
                //console.log("amethyst was clicked!");
                winLoseCheck();
               
            } else if ($(this).hasClass("blue-topaz")) {
                playerTtl = playerTtl + blueTopazVal;
                $("#player-total").text("Player Total: " + playerTtl);
                //console.log("blue topaz was clicked!");
                winLoseCheck();
                
            } else if ($(this).hasClass("peridot")) {
                playerTtl = playerTtl + peridotVal;
                $("#player-total").text("Player Total: " + playerTtl);
                //console.log("peridot was clicked!");
                winLoseCheck();
            
            } else {
                playerTtl = playerTtl + rubyVal;
                $("#player-total").text("Player Total: " + playerTtl);
                //console.log("ruby was clicked!");
                winLoseCheck();
                
            }
    


    })
    </script>
    
</body>
</html>